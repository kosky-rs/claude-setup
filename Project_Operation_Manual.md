# Claude Code プロジェクト運用ガイド

**このガイドでできること**: 新しいプロジェクトでClaude Codeを使い始めるための手順を、ステップバイステップで説明します。

**前提条件**: グローバル設定（`setup-global.sh`）が完了していること

---

## クイックスタート（5分で始める）

### Step 1: ターミナルを開く

**Mac**: `Cmd + Space` → 「ターミナル」と入力 → Enter
**Windows**: `Win + R` → 「cmd」と入力 → Enter

### Step 2: プロジェクトフォルダに移動

```bash
cd プロジェクトのパス
```

**例**: デスクトップの「my-app」フォルダの場合
```bash
cd ~/Desktop/my-app
```

> **ヒント**: フォルダをターミナルにドラッグ&ドロップすると、パスが自動入力されます

### Step 3: セットアップを実行

```bash
/path/to/claude-code-setup/setup-project.sh
```

> **パスがわからない場合**: setup-project.shファイルをターミナルにドラッグ&ドロップ

実行すると、いくつか質問されます：
- 「Initialize git?」 → 通常は `Y` を入力してEnter
- 「Overwrite?」 → 既存ファイルを上書きする場合は `y`、しない場合は `n`

### Step 4: Claude Codeを起動

```bash
claude
```

これで準備完了です！

---

## 最初にやること（Claudeと一緒に設定）

Claude Codeを起動したら、以下をコピペして実行してください：

```
このプロジェクトの初期設定を手伝ってください。

1. CLAUDE.mdを開いて、以下を一緒に埋めてください：
   - プロジェクトの概要
   - 使用している技術（言語、フレームワーク等）
   - フォルダ構成
   - よく使うコマンド（ビルド、テスト等）

2. 最初のタスクをtasks.jsonに登録してください。
   やりたいこと: [ここに最初にやりたいことを書く]
```

**Claudeが質問してくれるので、答えていくだけでOKです！**

---

## 日々の使い方

### 作業を始めるとき

Claudeに話しかけるだけ：

```
今日は〇〇の機能を作りたいです。タスクを開始してください。
```

または、タスクIDがわかっている場合：

```
/start-task 1
```

### 作業中

普通に会話しながら作業を進めます。Claudeが：
- コードを書いてくれます
- テストを実行してくれます
- エラーがあれば修正してくれます
- **問題を自動検出してメモしてくれます**

**「違う」と指摘したとき：**
```
📝 Noted: 要件の認識違い
```
このように短く報告して、すぐに修正を続けます。
（詳細な記録はセッション終了時に自動で行われます）

**困ったら遠慮なく質問してください：**
- 「今何をしているか説明して」
- 「この部分がわからない」
- 「一旦止めて」（Ctrl+Cでも止まります）

### 作業を終わるとき

```
今日の作業を終わりにしたいです。保存してください。
```

Claudeが以下を自動で行います：
- 変更をGitに保存
- 進捗を記録
- **セッション中に検出した問題を一括記録**
- 次回のための引き継ぎメモを作成

**セッション終了時の報告例：**
```
📊 Session: 2 issues recorded
- 戻り値の型違い (communication/medium)
- テスト未実行 (quality-gate/high)
```

---

## よく使うコマンド一覧

| やりたいこと | コマンド | 説明 |
|-------------|---------|------|
| タスクを始める | `/start-task 1` | タスクIDを指定して開始 |
| タスクを完了 | `/complete-task 1` | 完了処理を実行 |
| 問題を記録 | `/log-issue 問題の説明` | 発生した問題を記録 |
| 振り返り | `/retrospective` | セッション終了時の振り返り |
| 作業を保存 | `/checkpoint` | 途中経過を保存 |
| コードレビュー | `/review` | コミット前のチェック |
| 状況確認 | `/context` | どれくらい会話したか確認 |
| ヘルプ | `/help` | 使えるコマンド一覧 |

---

## こんなときどうする？

### 「コンテキストが〇〇%です」と言われた

Claudeとの会話が長くなると表示されます。

| 表示 | 対応 |
|------|------|
| 50%超 | まだ大丈夫。キリの良いところで区切りましょう |
| 70%超 | `/checkpoint` で保存して、新しいセッションを始めましょう |
| 85%超 | すぐに保存が必要です。Claudeが案内してくれます |

### Claudeが止まらない・暴走している

**Ctrl + C** を押すと止まります。

その後：
```
一旦止めて。今の状況を説明して。
```

### 間違った変更をしてしまった

```
さっきの変更を元に戻して
```

または：
```bash
git checkout -- .
```
（すべての変更を破棄）

### 何をすればいいかわからない

```
今のプロジェクトの状況を教えて。次に何をすべき？
```

---

## ファイルの説明

セットアップで作られるファイルの役割：

| ファイル | 役割 | 編集する？ |
|---------|------|----------|
| `CLAUDE.md` | プロジェクトの説明書（Claudeが読む） | **する**（最初に） |
| `tasks.json` | やることリスト | Claudeが管理 |
| `progress.md` | 作業ログ | Claudeが管理 |
| `issues.json` | 問題の記録（自動検出含む） | Claudeが管理 |
| `.claude/` | 設定フォルダ | 通常触らない |
| `.mcp.json` | 外部ツール連携 | 必要に応じて |

---

## プロジェクトごとの設定例

### Webアプリ（React/Next.js）

CLAUDE.mdに追記する例：
```markdown
## よく使うコマンド
- `npm run dev` - 開発サーバー起動
- `npm test` - テスト実行
- `npm run build` - ビルド

## 注意点
- コンポーネントは`src/components/`に作成
- APIは`src/api/`に作成
```

### Python プロジェクト

```markdown
## よく使うコマンド
- `python -m pytest` - テスト実行
- `python main.py` - 実行

## 注意点
- 仮想環境を使用: `source venv/bin/activate`
- 依存関係: `pip install -r requirements.txt`
```

---

## 困ったときのチェックリスト

### Claude Codeが起動しない
- [ ] `claude` コマンドが使えるか確認（インストール済み？）
- [ ] 正しいフォルダにいるか確認（`pwd`で確認）

### 設定が反映されない
- [ ] Claude Codeを再起動してみる（`exit` → `claude`）
- [ ] `/context` で設定が読み込まれているか確認

### MCPツールが動かない
- [ ] `/mcp` で接続状況を確認
- [ ] 環境変数が設定されているか確認

### その他
- Claudeに「〇〇で困っています」と相談してみてください
- 大抵の問題はClaudeが解決策を提案してくれます

---

## もっと詳しく知りたい方へ

- **完全ガイド**: `Claude_Code_Complete_Setup_Guide.md`
- **Issue管理の詳細**: セクション10を参照
- **カスタマイズ**: `.claude/commands/` 内のファイルを編集

---

## 更新履歴

| バージョン | 日付 | 内容 |
|-----------|------|------|
| 2.0.0 | 2025-12-02 | わかりやすさを重視して全面改訂 |
| 1.1.0 | 2025-12-02 | Issue管理システム追加 |
| 1.0.0 | 2025-12-01 | 初版作成 |

---

**わからないことがあれば、まずClaudeに聞いてみてください！**

Created by Kosky | Based on Claude Code Complete Setup Package
